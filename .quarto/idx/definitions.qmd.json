{"title":"Definitions","markdown":{"yaml":{"title":"Definitions","date":"today"},"headingText":"Main functions","containsRefs":false,"markdown":"\n\n\n\nWe overall interact with two functions, $\\ell$ and $g$, which are defined as \n\n$$\\ell(t)\\triangleq -\\alpha t + \\beta\\qquad\\text{for some}\\;\\alpha,\\beta > 0$$\n\nand\n\n$$g(t)\\triangleq \\eta\\exp\\left( \\;-\\sigma \\; t\\;\\right)\\qquad\\text{for some}\\; \\eta, \\sigma > 0$$\n\nthese functions serve as a proxy to define a third function, called \"switch\" or $\\mathrm{S}_\\boldsymbol{\\theta}$, which is defined as\n\n$$\\mathrm{S}_\\boldsymbol{\\theta}(t) =\n\\begin{cases}\n\\ell_\\boldsymbol{\\theta}(t)&\\text{if}\\;t\\leq t_s\\\\\ng_\\boldsymbol{\\theta}(t) & \\text{if}\\;t> t_s \n\\end{cases}\n$$\n\nwhere $\\boldsymbol{\\theta}$ is a vector parameter storing all variables of interest:\n\n$$\\boldsymbol{\\theta} \\triangleq \\left(\\alpha, \\beta, \\eta, \\sigma, t_s\\right)$$\n\n# Variables\n\n| Variable | Description |\n| --- | --- |\n| $\\alpha$ | The rate of change of the linear function |\n| $\\beta$ | The initial value of the linear function |\n| $\\eta$ | The amplitude of the exponential function |\n| $\\sigma$ |  The rate of decay of the exponential function |\n| $t_s$ | The time at which the switch function changes from linear to exponential |\n\n# Relationships between the variables\n\nFrom the continuity assumption, we get\n\n$$\\ell(t_s) = g(t_s)$$\n\nand\n\n$$\\ell'(t_s) = g'(t_s)$$\n\nwhich provides for the equations\n\n$$-\\alpha t_s+ \\beta = \\eta \\exp(-\\sigma\\cdot t_s)$$ and \n$$\\alpha = \\sigma\\eta\\exp(-\\sigma\\cdot t_s)$$\n\n## Derivation of key quantities\n\nTo avoid the occasionnal handwriting mistake, we can symbollically solve the arithmetic using symbolic programming:\n\n### Substitutions\n\n```{python}\nfrom sympy import *\n\nα, β, σ, η = symbols('α β σ η', positive=True)\n\nt_s, T_L, T_0 = symbols('t_s T_L T_0', positive=True)\n\n\neqns = [\n    -α * t_s+ β - η * exp(- σ * t_s),\n    α - σ * η * exp(-σ * t_s),\n]\ninit_printing()\nsols = solve(eqns, [t_s]).pop()\nsols[0]\n```\n\nWhence from substitution we get\n\n$$-\\alpha t_s + \\beta = \\eta \\exp\\left(-\\sigma\\log\\left(\\left(\\dfrac{\\eta\\sigma}{\\alpha}\\right)^{1/\\sigma}\\right)\\right) = \\eta \\dfrac{\\alpha}{\\eta\\sigma}$$\n\nwhich implies\n\n$$t_s = \\dfrac{\\beta}{\\alpha} - \\dfrac1\\sigma =  \\beta\\alpha^{-1} - \\sigma^{-1}$$\n\n\n### Integration\n\nWe can even solve the intergral symbollically to avoid silly mistakes\n```{python}\nt = symbols('t')\n\nconds = [\n    (t_s > T_0, True), (t_s < T_L, True),\n    (T_0 < T_L, True), (t < T_L, True),\n    (t > T_0, True)\n]\n\nlS = Piecewise((-α*t+β, True), *conds)\nrS = Piecewise((η * exp(-σ * t), True), *conds)\ntotal = lS.integrate((t,T_0, t_s)).doit() + rS.integrate((t, t_s, T_L)).doit()\nexpand(expand_log(powsimp(total.subs(t_s, β/α- 1/σ))))\n```\n\n\nWhence the integral we care about\n\n\n$$\\int_{T_0}^{T_\\text{L}}\\mathrm{S}_\\boldsymbol{\\theta}(t)\\mathrm{d}t\n\\leq \\mathrm{B}\n\\iff  \\int_{T_0}^{t_s}\\ell_\\boldsymbol{\\theta}(t)\\mathrm{d}t + \\int_{t_s}^{T_\\text{L}}g_\\boldsymbol{\\theta}(t)\\mathrm{d}t \\leq \\mathrm{B}$$\n\nA final simplification is\n$$\\alpha = \\sigma\\eta\\exp(-\\sigma\\beta\\alpha^{-1} + \\sigma\\sigma^{-1} ) = \\sigma\\eta\\exp(1- \\sigma\\beta\\alpha^{-1} ) $$\n\nOur final expression for the cost is\n\n$$\n\\displaystyle \\frac{T_{0}^{2} α}{2} - T_{0} β - \\frac{α}{2 σ^{2}} + \\frac{\\alpha  }{σ^2} - \\frac{η e^{- T_{L} σ}}{σ} + \\frac{β^{2}}{2 α}\n$$\n\n\n### Derivatives\n\nWhat might be of important in scenario is that the acceleration shouldn't be too steep. That means spread the effort enough that we do not need to \"accelerate\" too suddenly. This means the $\\mathrm{L}_2$ norm of the acceletation wrt $t$ of $\\mathrm{S}_\\boldsymbol{\\theta}(t)$ should be low.\n\n$$\\displaystyle\\int_{T_0}^{T_\\text{L}}\\left|\\dfrac{\\partial}{\\partial t^2}\\mathrm{S}_\\boldsymbol{\\theta}(t)\\right|^2\\mathrm{d}t = \\left\\lVert\\dfrac{\\partial}{\\partial t^2}\\mathrm{S}_\\boldsymbol{\\theta}\\right\\rVert \\ll K \\qquad\\text{for some }\\; K > 0$$\n\nSince the linear function has curvature zero, we only care about the $t > t_s$ case\n\n$$\\dfrac{\\partial}{\\partial t^2} \\eta\\exp(-\\sigma\\cdot t) = \\eta\\sigma^2\\exp(-\\sigma\\cdot t)$$\n\nfinally,\n\n$$\n\\begin{aligned}\n\\left\\lVert\\dfrac{\\partial}{\\partial t^2}\\mathrm{S}_\\boldsymbol{\\theta}\\right\\rVert &= \\eta^2\\sigma^4\\displaystyle\\int_{t_s}^{T_\\text{L}}\\exp(-2\\sigma\\cdot t)\\,\\mathrm{d}t \\\\\n& = -\\dfrac12\\sigma^{-1}\\eta^2\\sigma^4\\left[\\exp(-2\\sigma T_\\text{L}) - \\exp(-2\\sigma t_s)\\right]\\\\\n& = -\\dfrac12\\sigma^{-1}\\eta^2\\sigma^4\\left[\\exp(-2\\sigma T_\\text{L}) - \\dfrac{\\alpha^2}{\\eta^2\\sigma^2}\\right] \\\\\n&= -\\dfrac12\\sigma^{-1}\\eta^2\\sigma^4\\exp(-2\\sigma T_\\text{L}) + \\dfrac12 \\eta^2\\sigma\\alpha^2\n\\end{aligned}\n$$\n\n\n## Relationships\n\n| Number | Variables | Expression |\n| --- | --- | --- |\n| 1 | $t_s$ | $-\\frac{1}{\\sigma}\\ln\\left(\\frac{\\alpha}{\\eta\\sigma}\\right)$ |\n| 2 | $\\exp(-\\sigma \\cdot t_s)$ | $\\dfrac{\\alpha}{\\eta\\sigma}$ |\n| 3 | $t_s$ | $\\dfrac{\\eta}{\\sigma}\\exp(-\\sigma \\cdot t_s)$ |\n| 4 | $\\displaystyle\\int_{T_0}^{T_\\text{L}}\\mathrm{S}_\\boldsymbol{\\theta}(t)\\mathrm{d}t$ | $\\frac{T_{0}^{2} α}{2} - T_{0} β - \\frac{α}{2 σ^{2}} + \\frac{\\alpha  }{σ^2} - \\frac{η e^{- T_{L} σ}}{σ} + \\frac{β^{2}}{2 α}$ |\n| 5 | $\\left\\lVert\\dfrac{\\partial}{\\partial t^2}\\mathrm{S}_\\boldsymbol{\\theta}\\right\\rVert$ | $-\\dfrac12\\sigma^{-1}\\eta^2\\sigma^4\\exp(-2\\sigma T_\\text{L}) + \\dfrac12 \\eta^2\\sigma\\alpha^2$ |\n","srcMarkdownNoYaml":"\n\n\n# Main functions\n\nWe overall interact with two functions, $\\ell$ and $g$, which are defined as \n\n$$\\ell(t)\\triangleq -\\alpha t + \\beta\\qquad\\text{for some}\\;\\alpha,\\beta > 0$$\n\nand\n\n$$g(t)\\triangleq \\eta\\exp\\left( \\;-\\sigma \\; t\\;\\right)\\qquad\\text{for some}\\; \\eta, \\sigma > 0$$\n\nthese functions serve as a proxy to define a third function, called \"switch\" or $\\mathrm{S}_\\boldsymbol{\\theta}$, which is defined as\n\n$$\\mathrm{S}_\\boldsymbol{\\theta}(t) =\n\\begin{cases}\n\\ell_\\boldsymbol{\\theta}(t)&\\text{if}\\;t\\leq t_s\\\\\ng_\\boldsymbol{\\theta}(t) & \\text{if}\\;t> t_s \n\\end{cases}\n$$\n\nwhere $\\boldsymbol{\\theta}$ is a vector parameter storing all variables of interest:\n\n$$\\boldsymbol{\\theta} \\triangleq \\left(\\alpha, \\beta, \\eta, \\sigma, t_s\\right)$$\n\n# Variables\n\n| Variable | Description |\n| --- | --- |\n| $\\alpha$ | The rate of change of the linear function |\n| $\\beta$ | The initial value of the linear function |\n| $\\eta$ | The amplitude of the exponential function |\n| $\\sigma$ |  The rate of decay of the exponential function |\n| $t_s$ | The time at which the switch function changes from linear to exponential |\n\n# Relationships between the variables\n\nFrom the continuity assumption, we get\n\n$$\\ell(t_s) = g(t_s)$$\n\nand\n\n$$\\ell'(t_s) = g'(t_s)$$\n\nwhich provides for the equations\n\n$$-\\alpha t_s+ \\beta = \\eta \\exp(-\\sigma\\cdot t_s)$$ and \n$$\\alpha = \\sigma\\eta\\exp(-\\sigma\\cdot t_s)$$\n\n## Derivation of key quantities\n\nTo avoid the occasionnal handwriting mistake, we can symbollically solve the arithmetic using symbolic programming:\n\n### Substitutions\n\n```{python}\nfrom sympy import *\n\nα, β, σ, η = symbols('α β σ η', positive=True)\n\nt_s, T_L, T_0 = symbols('t_s T_L T_0', positive=True)\n\n\neqns = [\n    -α * t_s+ β - η * exp(- σ * t_s),\n    α - σ * η * exp(-σ * t_s),\n]\ninit_printing()\nsols = solve(eqns, [t_s]).pop()\nsols[0]\n```\n\nWhence from substitution we get\n\n$$-\\alpha t_s + \\beta = \\eta \\exp\\left(-\\sigma\\log\\left(\\left(\\dfrac{\\eta\\sigma}{\\alpha}\\right)^{1/\\sigma}\\right)\\right) = \\eta \\dfrac{\\alpha}{\\eta\\sigma}$$\n\nwhich implies\n\n$$t_s = \\dfrac{\\beta}{\\alpha} - \\dfrac1\\sigma =  \\beta\\alpha^{-1} - \\sigma^{-1}$$\n\n\n### Integration\n\nWe can even solve the intergral symbollically to avoid silly mistakes\n```{python}\nt = symbols('t')\n\nconds = [\n    (t_s > T_0, True), (t_s < T_L, True),\n    (T_0 < T_L, True), (t < T_L, True),\n    (t > T_0, True)\n]\n\nlS = Piecewise((-α*t+β, True), *conds)\nrS = Piecewise((η * exp(-σ * t), True), *conds)\ntotal = lS.integrate((t,T_0, t_s)).doit() + rS.integrate((t, t_s, T_L)).doit()\nexpand(expand_log(powsimp(total.subs(t_s, β/α- 1/σ))))\n```\n\n\nWhence the integral we care about\n\n\n$$\\int_{T_0}^{T_\\text{L}}\\mathrm{S}_\\boldsymbol{\\theta}(t)\\mathrm{d}t\n\\leq \\mathrm{B}\n\\iff  \\int_{T_0}^{t_s}\\ell_\\boldsymbol{\\theta}(t)\\mathrm{d}t + \\int_{t_s}^{T_\\text{L}}g_\\boldsymbol{\\theta}(t)\\mathrm{d}t \\leq \\mathrm{B}$$\n\nA final simplification is\n$$\\alpha = \\sigma\\eta\\exp(-\\sigma\\beta\\alpha^{-1} + \\sigma\\sigma^{-1} ) = \\sigma\\eta\\exp(1- \\sigma\\beta\\alpha^{-1} ) $$\n\nOur final expression for the cost is\n\n$$\n\\displaystyle \\frac{T_{0}^{2} α}{2} - T_{0} β - \\frac{α}{2 σ^{2}} + \\frac{\\alpha  }{σ^2} - \\frac{η e^{- T_{L} σ}}{σ} + \\frac{β^{2}}{2 α}\n$$\n\n\n### Derivatives\n\nWhat might be of important in scenario is that the acceleration shouldn't be too steep. That means spread the effort enough that we do not need to \"accelerate\" too suddenly. This means the $\\mathrm{L}_2$ norm of the acceletation wrt $t$ of $\\mathrm{S}_\\boldsymbol{\\theta}(t)$ should be low.\n\n$$\\displaystyle\\int_{T_0}^{T_\\text{L}}\\left|\\dfrac{\\partial}{\\partial t^2}\\mathrm{S}_\\boldsymbol{\\theta}(t)\\right|^2\\mathrm{d}t = \\left\\lVert\\dfrac{\\partial}{\\partial t^2}\\mathrm{S}_\\boldsymbol{\\theta}\\right\\rVert \\ll K \\qquad\\text{for some }\\; K > 0$$\n\nSince the linear function has curvature zero, we only care about the $t > t_s$ case\n\n$$\\dfrac{\\partial}{\\partial t^2} \\eta\\exp(-\\sigma\\cdot t) = \\eta\\sigma^2\\exp(-\\sigma\\cdot t)$$\n\nfinally,\n\n$$\n\\begin{aligned}\n\\left\\lVert\\dfrac{\\partial}{\\partial t^2}\\mathrm{S}_\\boldsymbol{\\theta}\\right\\rVert &= \\eta^2\\sigma^4\\displaystyle\\int_{t_s}^{T_\\text{L}}\\exp(-2\\sigma\\cdot t)\\,\\mathrm{d}t \\\\\n& = -\\dfrac12\\sigma^{-1}\\eta^2\\sigma^4\\left[\\exp(-2\\sigma T_\\text{L}) - \\exp(-2\\sigma t_s)\\right]\\\\\n& = -\\dfrac12\\sigma^{-1}\\eta^2\\sigma^4\\left[\\exp(-2\\sigma T_\\text{L}) - \\dfrac{\\alpha^2}{\\eta^2\\sigma^2}\\right] \\\\\n&= -\\dfrac12\\sigma^{-1}\\eta^2\\sigma^4\\exp(-2\\sigma T_\\text{L}) + \\dfrac12 \\eta^2\\sigma\\alpha^2\n\\end{aligned}\n$$\n\n\n## Relationships\n\n| Number | Variables | Expression |\n| --- | --- | --- |\n| 1 | $t_s$ | $-\\frac{1}{\\sigma}\\ln\\left(\\frac{\\alpha}{\\eta\\sigma}\\right)$ |\n| 2 | $\\exp(-\\sigma \\cdot t_s)$ | $\\dfrac{\\alpha}{\\eta\\sigma}$ |\n| 3 | $t_s$ | $\\dfrac{\\eta}{\\sigma}\\exp(-\\sigma \\cdot t_s)$ |\n| 4 | $\\displaystyle\\int_{T_0}^{T_\\text{L}}\\mathrm{S}_\\boldsymbol{\\theta}(t)\\mathrm{d}t$ | $\\frac{T_{0}^{2} α}{2} - T_{0} β - \\frac{α}{2 σ^{2}} + \\frac{\\alpha  }{σ^2} - \\frac{η e^{- T_{L} σ}}{σ} + \\frac{β^{2}}{2 α}$ |\n| 5 | $\\left\\lVert\\dfrac{\\partial}{\\partial t^2}\\mathrm{S}_\\boldsymbol{\\theta}\\right\\rVert$ | $-\\dfrac12\\sigma^{-1}\\eta^2\\sigma^4\\exp(-2\\sigma T_\\text{L}) + \\dfrac12 \\eta^2\\sigma\\alpha^2$ |\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":{"distill::distill_article":{"self_contained":true,"highlight":"tango","css":"styles.css","toc":true,"toc_float":"collapsed"}},"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"definitions.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.353","code-copy":true,"bibliography":["bibliography.bib"],"reference":[{"id":"vol"}],"comments":{"hypothesis":{"theme":"clean","openSidebar":false}},"theme":"journal","highlight":"tango","page-layout":"full","title":"Definitions","date":"today"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}